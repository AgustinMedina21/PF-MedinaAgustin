(()=>{var m=class extends HTMLElement{constructor(){super(),this.apiHost="https://d3ejra0xbg20rg.cloudfront.net",this.settings=JSON.parse(this.getAttribute("data-section-settings"))}connectedCallback(){this.initSection()}async initSection(){let o=this.querySelector("[data-media-template]");if(!o){console.warn('No template has been provided. Make sure that you have added the "data-media-template" attribute to the "template" element');return}this.injectThemeStyles();let s=[];try{s=await this.loadMedia()}catch(i){Shopify.designMode?this.querySelector(".ooo-instagram-feed__list").outerHTML=`
          <p style="padding: 10px; background: #ef4c4c; color: #ffffff; text-align: center;">${i}</p>
        `:(this.parentElement.style.display="none",console.warn("An error occurred while retrieving images from Instagram. The section has been hidden."));return}this.removePlaceholders(),this.buildTemplateFromMedia(o,s)}async loadMedia(){let o=await fetch(`${this.apiHost}/instagram/media?shop=${Shopify.shop}&resource=default`);if(!o.ok)throw(await o.json()).message||"An unexpected error occurred.";let s=await o.json(),i=s.slice(0,this.settings.imageCount||12);if(i.length===0)throw"No images could be retrieved from Instagram. Make sure your Instagram account contains at least 1 image.";if(this.settings.layout==="sliding_carousel"){do i.push(...i);while(i.length<30);i=i.slice(0,30)}return i}removePlaceholders(){let o=this.querySelectorAll("[data-media-placeholder]");for(let s=0;s<o.length;++s)o[s].remove()}buildTemplateFromMedia(o,s){let i=document.createDocumentFragment(),l=new Intl.DateTimeFormat(this.settings.locale,{year:"numeric",month:"long",day:"numeric"});s.forEach(a=>{let n=document.importNode(o.content,!0),p=a.timestamp.split("T")[0],t=l.format(new Date(p)),e=a.media_type==="VIDEO"?a.thumbnail_url:a.media_url;this.setValueForField(n.querySelector('[data-instagram-field="media_url"]'),e,"src"),this.setValueForField(n.querySelector('[data-instagram-field="username"]'),a.username,"text"),this.setValueForField(n.querySelector('[data-instagram-field="caption"]'),a.caption,"text"),this.setValueForField(n.querySelector('[data-instagram-field="permalink"]'),a.permalink,"href"),this.setValueForField(n.querySelector('[data-instagram-field="timestamp"]'),t,"text"),i.appendChild(n)}),o.parentElement.appendChild(i),o.remove()}setValueForField(o,s,i){if(o)switch(s===void 0&&o.remove(),i){case"src":case"href":o.setAttribute(i,s);break;case"text":o.textContent=s;break}}async injectThemeStyles(){let o={};if(window.BOOMR!==void 0?o={name:window.BOOMR.themeName,version:window.BOOMR.themeVersion}:o=await this.detectTheme(),!o||window.AppSectionFeed&&!window.AppSectionFeed.injectThemeStyles)return;let s=(o.name||"").toLowerCase(),i=o.version||"",l=this.querySelector(".ooo-instagram-header"),a=this.querySelector(".ooo-instagram-header__title"),n=this.querySelector(".ooo-instagram-header__subheading"),p=this.querySelector(".ooo-instagram-footer__button"),t="",e="",r="";switch(s){case"warehouse":t="heading h3",e="rte",r="button button--primary";break;case"prestige":i>="7.0.0"?(this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-header-margin-bottom","var(--section-stack-gap, 0px)"),l.classList.add("prose"),t="h2",e="",r="button"):(this.parentElement.classList.add("shopify-section--bordered"),this.style.setProperty("--ooo-instagram-section-vertical-margin",0),this.style.setProperty("--ooo-instagram-section-vertical-padding",window.innerWidth<=768?"50px":"80px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"24px":"80px"),this.style.setProperty("--ooo-instagram-header-margin-bottom","30px"),this.style.setProperty("--ooo-instagram-footer-margin-top","40px"),t="Heading u-h1",e="Rte",r="Button Button--primary");break;case"focal":i>="8.0.0"&&(this.style.setProperty("--ooo-instagram-section-vertical-margin","var(--vertical-breather)"),this.style.setProperty("--ooo-instagram-header-margin-bottom","28px"),t="heading h2",e="rte",r="button button--primary");break;case"impact":this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-header-margin-bottom","var(--section-stack-spacing-block, 0px)"),l.classList.add("prose"),t="h2",e="",r="button button--xl";break;case"impulse":this.style.setProperty("--ooo-instagram-container-max-width","1500px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"40px":"75px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"17px":"40px"),t="h2",e="rte",r="btn";break;case"streamline":this.style.setProperty("--ooo-instagram-container-max-width","1300px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"60px":"120px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"30px":"40px"),t="section-header__title",e="rte section-header__description",r="btn";break;case"motion":this.style.setProperty("--ooo-instagram-container-max-width","1300px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"34px":"100px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"20px":"40px"),t="h1",e="rte",r="btn";break;case"flow":this.style.setProperty("--ooo-instagram-section-vertical-margin",0),this.style.setProperty("--ooo-instagram-section-vertical-padding","50px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"15px":"30px"),t="page--title",e="rte",r="btn";break;case"envy":this.style.setProperty("--ooo-instagram-container-max-width","1170px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",0),this.style.setProperty("--ooo-instagram-section-vertical-padding","30px"),this.style.setProperty("--ooo-instagram-external-gutter","15px"),this.style.setProperty("--ooo-instagram-footer-margin-top",0),t="",e="rte",r="btn btn-custom";break;case"capital":this.style.setProperty("--ooo-instagram-container-max-width","1140px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","40px"),this.style.setProperty("--ooo-instagram-external-gutter","20px"),t="featured-content--header",e="featured-content--rich-content",r="button";break;case"district":this.parentElement.classList.add("section-standard"),this.style.setProperty("--ooo-instagram-container-max-width","1180px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",0),this.style.setProperty("--ooo-instagram-section-vertical-padding","40px"),this.style.setProperty("--ooo-instagram-external-gutter","20px"),t="h2",e="rte",r="button large outline";break;case"blockshop":this.parentElement.classList.add("section-standard"),this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",0),this.style.setProperty("--ooo-instagram-section-vertical-padding",window.innerWidth<=768?"32px":"72px"),this.style.setProperty("--ooo-instagram-external-gutter","16px"),t="font--section-heading",e="rte-content",r="font--button";break;case"icon":t="",e="rte",r="button";break;case"venue":this.style.setProperty("--ooo-instagram-container-max-width","1600px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"30px":"42px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=980?"18px":"30px"),t="section__title-text",e="rte",r="c-btn c-btn--primary";break;case"galleria":this.style.setProperty("--ooo-instagram-container-max-width","1170px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",0),this.style.setProperty("--ooo-instagram-section-vertical-padding",window.innerWidth<=768?"60px":"80px"),this.style.setProperty("--ooo-instagram-external-gutter","15px"),t="section-header-title",e="section-header-subtitle rte-page",r="btn btn-primary btn-lg";break;case"showtime":this.style.setProperty("--ooo-instagram-container-max-width","1170px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"30px":"42px"),this.style.setProperty("--ooo-instagram-external-gutter","15px"),t="section__title-text",e="rte",r="btn_c";break;case"expression":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"45px":"60px"),this.style.setProperty("--ooo-instagram-external-gutter",0),t="standard-title",e="rte",r="btn btn--primary";break;case"masonry":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","80px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"20px":"50px"),t="h1",e="rte",r="button";break;case"symmetry":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","80px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"20px":"50px"),t="h1",e="rte",r="button";break;case"alchemy":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","80px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"15px":"20px"),t="h2",e="rte align-center",r="button button--alt";break;case"showcase":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","80px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"20px":"50px"),t="feature-header",e="rte align-center",r="button";break;case"canopy":this.style.setProperty("--ooo-instagram-container-max-width","90%"),this.style.setProperty("--ooo-instagram-section-vertical-margin","3.5em"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"15px":"20px"),t="section-heading",e="rte",r="btn";break;case"boost":this.style.setProperty("--ooo-instagram-container-max-width","1400px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"20px":"30px"),t="small-title",e="rte",r="btn btn--small btn--primary";break;case"avenue":this.style.setProperty("--ooo-instagram-container-max-width","1220px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"40px":"60px"),this.style.setProperty("--ooo-instagram-external-gutter","20px"),t="",e="",r="btn";break;case"colors":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"15px":"30px"),t="small-title",e="rte",r="btn border",l&&(l.setAttribute("id","rte"),l.classList.add("center"));break;case"california":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),this.style.setProperty("--ooo-instagram-external-gutter","0px"),t="",e="rte",r="btn action small";break;case"atlantic":this.style.setProperty("--ooo-instagram-container-max-width","1430px"),this.style.setProperty("--ooo-instagram-section-vertical-margin",window.innerWidth<=768?"40px":"65px"),this.style.setProperty("--ooo-instagram-external-gutter","15px"),t="section-title",e="rte",r="action-button submit";break;case"editions":this.style.setProperty("--ooo-instagram-container-max-width","1400px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),this.style.setProperty("--ooo-instagram-external-gutter","0px"),t="accent-text",e="rte",r="action-btn accent-text";break;case"empire":this.parentElement.classList.add("section-standard"),this.style.setProperty("--ooo-instagram-container-max-width","1400px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"10px":"25px"),t="home-section--title",e="rte-content",r="button-primary";break;case"grid":this.style.setProperty("--ooo-instagram-container-max-width","1400px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","40px"),this.style.setProperty("--ooo-instagram-external-gutter","30px"),t="home-section--title",e="rte",r="button";break;case"handy":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-external-gutter","0px"),t="section-twitter-title",e="rte",r="pxs-image-with-text-button";break;case"launch":this.style.setProperty("--ooo-instagram-container-max-width","1215px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding",window.innerWidth<=768?"30px":"60px"),this.style.setProperty("--ooo-instagram-external-gutter","30px"),t="module-title",e="module-subtitle",r="button outline";break;case"pacific":t="section-title",e="rte",r="button";break;case"superstore":this.style.setProperty("--ooo-instagram-container-max-width","1600px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding",window.innerWidth<=768?"30px":"50px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"10px":"40px"),this.style.setProperty("--ooo-instagram-header-margin-bottom",window.innerWidth<=768?"1.64rem":"2.625rem"),t="home-section--title",e="home-section--subheading",r="blogposts--footer-button button-primary";break;case"reach":this.style.setProperty("--ooo-instagram-container-max-width","80rem"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding",window.innerWidth<=768?"3rem":"6rem"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"1rem":"2rem"),t="text-block-heading",e="text-block-text rte",r="blog-posts-footer-link";break;case"startup":this.style.setProperty("--ooo-instagram-container-max-width","1020px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","50px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"1rem":"30px"),t="section-title",e="rte",r="button";break;case"vogue":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","50px"),this.style.setProperty("--ooo-instagram-external-gutter","0px"),t="section-title",e="rte",r="button";break;case"palo alto":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","50px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"25px":"50px"),t="h2",e="rte",r="btn btn--primary";break;case"broadcast":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","50px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"25px":"50px"),t="h3",e="rte",r="btn btn--large btn--secondary btn--neutral caps";break;case"modular":this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","50px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"25px":"50px"),t="h1",e="rte",r="button button--primary";break;case"kingdom":this.parentElement.classList.add("with-gutter"),this.style.setProperty("--ooo-instagram-container-max-width","none"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"25px":"50px"),this.style.setProperty("--ooo-instagram-header-text-alignment","left"),t="h1",e="rte",r="button button--solid";break;case"artisan":this.style.setProperty("--ooo-instagram-container-max-width","1220px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding",window.innerWidth<=768?"30px":"40px"),this.style.setProperty("--ooo-instagram-external-gutter","10px"),t="h2",e="rte",r="button";break;case"flex":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","40px"),this.style.setProperty("--ooo-instagram-external-gutter","10px"),t="title",e="content",r="button button--primary";break;case"mobilia":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","40px"),this.style.setProperty("--ooo-instagram-external-gutter","10px"),t="title",e="rte",r="action_button btn";break;case"parallax":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","40px"),this.style.setProperty("--ooo-instagram-external-gutter","10px"),t="title",e="rte",r="button";break;case"responsive":this.style.setProperty("--ooo-instagram-container-max-width","1180px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","40px"),this.style.setProperty("--ooo-instagram-external-gutter","10px"),t="section-header home",e="featured_text",r="button",p&&(p.style.width="auto");break;case"retina":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","40px"),this.style.setProperty("--ooo-instagram-external-gutter","10px"),this.style.setProperty("--ooo-instagram-header-text-alignment","left"),t="title",e="rte",r="button";break;case"turbo":this.style.setProperty("--ooo-instagram-container-max-width","1200px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","0px"),this.style.setProperty("--ooo-instagram-section-vertical-padding","40px"),this.style.setProperty("--ooo-instagram-external-gutter","10px"),t="h2",e="",r="action_button";break;case"providence":this.style.setProperty("--ooo-instagram-container-max-width","1280px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"10px":"20px"),t="lhxt",e="",r="button";break;case"lorenza":this.style.setProperty("--ooo-instagram-container-max-width","1280px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"20px":"30px"),t="indexText-text",e="indexText-subtext",r="button";break;case"ira":this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),t="indexText-text",e="indexText-subtext",r="btn";break;case"context":this.style.setProperty("--ooo-instagram-container-max-width","1260px"),this.style.setProperty("--ooo-instagram-section-vertical-margin","30px"),this.style.setProperty("--ooo-instagram-external-gutter",window.innerWidth<=768?"20px":"40px"),t="type-heading-1",e="type-body-large rte",r="bttn",p&&(p.style.display="inline-flex");break}a&&t!==""&&(a.className=t),n&&e!==""&&(n.className=e),p&&r!==""&&(p.className=r)}async detectTheme(){let o=await fetch(`${this.apiHost}/theme?shop=${Shopify.shop}&theme_id=${Shopify.theme.id}`);if(o.ok)return o.json()}};window.customElements.get("ooo-instagram-feed")||window.customElements.define("ooo-instagram-feed",m);})();
